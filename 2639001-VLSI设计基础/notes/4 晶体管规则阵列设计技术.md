# 4 晶体管规则阵列设计技术

## 4.1 晶体管阵列及其逻辑设计应用

### 4.1.1 全 NMOS 结构 ROM

或非结构 ROM

正常工作时，在所有的字线中，只有一根 **字线** 为 **高电平**，其余字线都为低电平，即所谓的某个字被选中。

---

与非结构 ROM

正常工作时，在所有的字线中，只有一条 **字线** 为 **低电平**，其余字线均为高电平。

---

**静态结构的 ROM 由于采用了有比结构，即输出的低电平电压值取决于耗尽型负载的导通电阻与增强型 NMOS管的导通电阻的比值**。为保证输出低电平达到要求，**耗尽型负载的导通电阻比增强型 NMOS 要大得多**。这就导致各个位线上输出高电平的上升时间远大于输出低电平的下降时间，因此，上升时间就决定了信号的工作周期，使整个电路的工作速度受到上升时间的限制。另一方面，处于低电平输出的位线始终存在着电源到地的直流通路，其功耗比较大。

动态结构的 ROM 有效地解决了这两个问题。动态结构ROM 的阵列结构和信号读出（选中）原理和静态结构非常相似，所不同的是负载和 NMOS 存储单元不同时工作。图4.3所示是一动态或非结构 ROM。

动态或非结构 ROM 的工作过程被分为两个节拍：**预充电节拍** 和 **输出节拍**。
在预充电节拍，$\phi_1$ 为高电平，$\phi_2$ 低电平，负载管导通，其他 NMOS管（通常称工作管）的对地通路被 $\phi_2$ 控制而关断，这时，电源通过负载管对位线进行充电，使其全为高电平。
在输出节拍，$\phi_2$ 为高电平，$\phi_1$ 为低电平，对地的通路导通，相应位线字线交叉处有 NMOS 工作管的位线信号从高电平通过导通的 NMOS 管放电到低电平，而无 NMOS 管的位线任保持高电平。

### 4.1.2 ROM 版图

或非：P型（硼）断路

与非：N型（磷、砷）短路

#### 4.1.2.1 NMOS 或非结构 ROM 版图

图4.4（b）则显示了另一种结构的硅栅 NMOS ROM。与图（a）不同的是，它在所有的字线、位线交叉点都制作 NMOS 管，但有的 NMOS 管能够在正常信号下工作，有的则不能工作，这是因采用了 **离子注入** 的方法，**在不需要 NMOS 管的地方**，预先在多晶硅下注入 **硼离子**，使此处的衬底表面P型杂质浓度提高，导致该 NMOS管的阈值电压大于信号电压，这样，字线上的信号不能使此处的 NMOS 管导通，从而使该 NMOS 管不起作用，达到选择的效果。

#### 4.1.2.2 NMOS 与非结构 ROM 版图

与非结构 ROM 晶体管的选择也采用离子注入的办法，所不同的是离子注入的元素，或非结构注入的是 P 型杂质硼离子（见图 4.4（b）），使 NMOS 管在正赏电下不能导通，这里注人的是 n 型杂质磷或砷，作用是使注入处的 NMOS 管耗尽，达到源漏「**短路**」，晶体管消失的目的。

## 4.2 MOS 晶体管开关逻辑

MOS开关晶体管逻辑是建立在「传输晶体管」或「传输门」基础上的逻辑结构，所以又称为传输晶体管逻辑。
信号的传输通过导通的 MOS 器件，从源传到漏或从漏传到源。信号输出端的逻辑值将同时取决于信号的发送端和 MOS器件栅极的逻辑值。

### 4.2.1 MUX

多路转换开关

## 4.3 PLA及其拓展结构

### 4.3.1 "与非-与非"阵列结构

![NAND-NAND PLA](https://ars.els-cdn.com/content/image/3-s2.0-B0122274105007961-gr19.gif)

### 4.3.2 "或非-或非"阵列结构

NMSL

### 4.3.3 多级门阵列MGA

NMSL

## 4.4 门阵列

门阵列分为 **固定门阵列** 和 **优化门阵列**。

### 4.4.1 门阵列单元

多种工艺支持门阵列的实现： TTL，ECL，CMOS

MOS晶体管版图

共用源漏

### 4.4.2 整体结构设计规则

(1) 电源、地线必须用金属引线并且不允许交叉跨越：

电源、地线成叉指形，在各单元行的位置、宽度必须一致；对外部的I/O PAD成「回」字

## 4.5 晶体管规则阵列设计技术与应用

### 4.5.2 EEPROM 晶体管

EEPROM 的工作原理是：
在擦除时，将**n+漏区接地**，在**字线**上施加一个正的高压短脉冲，使**衬底中的电子**从注入区进入浮置栅并驻留在浮置栅内。因为浮置栅中电子的屏蔽作用，当字线上加以正常的信号电压时，不能使P型衬底表面反型形成导电沟道，相当于没有器件一样，或者说**这个器件被擦除掉了**。
反之，将字线接地，在**n+漏区施加一个正的高压短脉冲**，使浮置栅中驻留的电子**通过注入区回到衬底**。这时的器件又成为普通 NMOS 晶体管。这样，在这个格点上就产生了一个有效晶体管。这个过程称为**写入晶体管过程**。

擦除：n+漏区接地，字线施加一个正的高压短脉冲，衬底中的电子从注入区进入浮置栅并驻留

写入：字线接地，n+漏区施加一个正的高压短脉冲，浮置栅中的电子从注入区回到衬底
