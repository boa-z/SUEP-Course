# 习题

## 小练习(课堂)

小练习1

49H + 78H = C1H = 1100 0001H
CY = 0 AC = 1 P = 1

---

小练习2

已知 (ACC) = OOH, (41H) = 01H, (42H) = 02H 求输出结果

```asm
MOV SP, #30H ; (SP) = 30H
PUSH ACC ; (SP) = 31H , (31H) = 00H
PUSH 41H ; (SP) = 32H, (32H) = 01H
PUSH 42H ; (SP) = 33H, (33H) = 02H
POP ACC ; (ACC) = 03H, (SP) = 33H
```

---

小练习3 (例3-5)

(R1) = #30H, ((R1)) = 40H

---

小练习4

30H, 高3位 = 1, 低2位 = 0, other same

```asm
ORL 30H, #1110 0000B
ANL 30H, #1111 1100B
```

---

小练习5

if (20H) > (30H) red, else green

-- add HEIF

```asm
CLR C
MOV A, 20H
SUBB A, 30H
JC GREEN
SETB P1.1
CLR P1.0
SJMP EXIT

GREEN: CLR P1.1
       SETB P1.0
EXIT: SJMP $ ; $: back to 本指令的起始地址
```

## 书后习题

### 第三章 习题3

P133 5, 8

5 若要完成以下的数据传送,应如何用 MCS-51 单片机的指令来实现？
(1) R1的内容传送到R0;

```asm
MOV A, R1
MOV R0, A
```

(2) 外部 RAM 20H 单元的内容传送到R0;

```asm
MOV DPTR, #20H
MOV P2, #00H
MOVX A, @R1
MOV R0, A
```

(3) 外部 RAM 20H 单元的内容传送到内部 RAM 20H 单元;

```asm
MOV DPTR, #20H
MOVX A, @DPTR
MOV 20H, A
```

(4) 内部 RAM 10H 单元传送到外部 RAM 1000H 单元的内容;

```asm
MOV DPTR, #1000H
MOV A, 10H
MOVX @DPTR, A
```

(5) ROM 2000H 单元的内容传送到R0;

```asm
MOV A, #00H ; or use CLR A
MOV DPTR, #2000H 
MOVC A, @A+DPTR 
MOV R0, A
```

(6) ROM 2000H 单元的内容传送到内部 RAM 20H 单元;

```asm
MOV A, #00H
MOV DPTR, #2000H 
MOVC A, @A+DPTR 
MOV 20H, A
```

(7) ROM 2000H 单元的内容传送到外部 RAM 20H 单元

```asm
MOV A, #00H
MOV DPTR, #2000H 
MOVC A, @A+DPTR
MOV R0, #20H
MOV P2, #00H
MOVX @R0, A ; MOVX 20H A is wrong, because ??
```

8 设内部RAM中的30H单元的内容为40H，即 (30H)=40H，还知(40H)=10H,(10H)=00H,(P1)=0CAH。执行以下指令后，求各相关存储器单元、寄存器以及端口的内容(即R0、R1、A、B、P2、40H、30H、10H单元)。

```asm
MOV RO, #30H ; (R0) = 30H
MOV A, @RO ; (A) = 30H, beacuse @R0 = 30H
MOV R1, A ; (R1) = 30H
MOV B, @R1 ; (B) = 40H
MOV @R1, P1 ; as ((R1)) == ((30H)) == 40H, so (40H) = 0CAH
MOV P2, P1 ; (P2) = 0CAH
MOV 10H, #20H ; (10H) = 20H
MOV 30H, 10H ; (30H) = 20H
```

9 指出以下程序依次执行后每一条指令的执行结果。已知(A)=21H, (30H)=19H, (44H) =60H.

```asm
MOV A, #0F0H ; (A) = 0F0H = 0000 1111 0000 B
CPL A ; 对每一位取反，(A) = 0FH
ANL 30H, A ; (30H) = (30H) AND (A) = 19H AND 0FFH = 09H
ORL 30H, # 00H ; (30H) = 09H
XRL 44H, A ; (44h) = 60H XOR 0FH = 6FH
```

10 指出以下程序依次执行后每一条指令的执行结果。已知(CY)=1.

```asm
MOV A, # 0AAH ; (A) = 0AAH = 1010 1010 B
CPL A ; 对累加器A中的每一位取反，此时 (A) = 0101 0101B = 55H
RLC A ; 将累加器A中的内容循环左移一位，最高位移到CY标志位，CY标志位移到最低位。由(CY)=1 -> (A) = 1010 1011B = ABH
RL A ; 将累加器A中的内容左移一位，最高位移到CY标志位 -> (A) = 0101 0111B = 57H
CPL A ; 对累加器A中的每一位取反，此时A = 1010 1000B = A8H
RRC A ; 将累加器A中的内容循环右移一位，最低位移到CY标志位，CY标志位移到最高位。由(CY)=1 -> (A) = 0101 0100B = 54H
RR A ; 将累加器A中的内容右移一位，最低位移到CY标志位。此时 (A) = 0010 1010B = 2AH
```

14.编写程序，查找内部 RAM 20H~50H 单元中是否有 0AAH 这一数据。若有,则将51H 单元置“1”;否则,将其清“0”。

```asm
MOV R0, #20H
MOV R1, #50H
MOV A, #0AAH
LOOP: MOVX A, @R0
CJNE A, #0AAH, NEXT
MOV 51H, #01H
SJMP END

NEXT:
    INC R0
    CJNE R0, R1, LOOP
    CLR 51H
END: NOP
```

15.编写程序，查找内部 RAM 20H~50H 单元中出现 00H 的次数，并将查找结果存入 51H 单元

```asm
MOV R0, #20H
MOV R7, #31H
MOV 51H, #00H

LOOP:
    MOV A, @R0
    JNZ NEXT
    JNC 51H

NEXT:
    INC R0
    DJNZ R7, LOOP ; or use CJNE R0, #51H
END: NOP
```

33 用汇编程序实现 $C = A^2 + B^2$ , 设 $A, B \leq 10$。 $A$ 存于 30H 单元，$B$ 存于 31H 单元，
C 的 value 保存至 35H 和 36H 单元

```asm
MOV AX, #30H ; 将 A 的值存储到 AX 中
MUL AX ; 计算 A^2
MOV BX, #31H ; 将 B 的值存储到 BX 中
MUL BX ; 计算 B^2
ADD AX, BX ; 计算 A^2 + B^2
MOV #35H, AX ; 将结果的低字节存储到 35H 单元中
MOV #36H, DX ; 将结果的高字节存储到 36H 单元中
```

### 第五章 习题5

IE0

2 中断查询确认后，在下列 MCS-51 单片机运行情况中，能立即进行响应的是 (B --> D)

A. 当前正在执行高优先级中断处理
B. 当前正在执行 RETI 指令
C. 当前指令是 DIV 指令，且正处于取指令的机器周期
D. 当前指令是 MOV A, R3

3.下列说法正确的是 (C)

A. 同一级别的中断请求按时间的先后顺序响应
B. 同一时间同一级别的多中断请求，将形成阻塞,系统无法响应
C. 低优先级中断请求不能中断高优先级中断请求，但是高优先级中断请求能中断低优先级中断请求
D. 同级中断能嵌套

4 在中断服务程序中，至少应有一条 (D)

A. 传送指令
B. 转移指令
C. 加法指令
D. 中断返回指令

5.当优先级设置为同级时，若以下几个中断同时发生，(D) 中断优先响应。

A. 外部中断1
B. T1
C. 串行接口
D. T0

6 MCS-51 单片机的中断源全部编程为同级时,CPU 最先响应的是(A --> D)。

A. T0
B. T1
C. 串行接口
D. INT1

7、 MCS-51 单片机有 5 个中断源，外部中断 INT1 的入口地址是 (D)，定时器 T0 的中断入口地址是 (B).

A. 0003H
B. 000BH
C. 0013H
D. 001BH
E. 0023H

8、 执行中断返回指令，从堆栈弹出地址送给 (C)。

A. A
B. CY
C. PC
D. DPTR

9、 MCS-51 单片机在使用中断方式与外界交换信息时，保护现场的工作应该是(C)。

A. 由 CPU 自动完成
B. 在中断响应中完成
C. 由中断服各程序完成
D. 在主程序中完成

10、 在图5-4中，正常情况下 P1 口所接的发光管“全亮 - 全暗”交替出现，当 S0 接下时，产生中断,此时8只发光管依次循环点亮8次,然后恢复正常,用外部中断 0 的中断编程实现

```asm
ORG 0000H
AJMP MAIN
ORG 0003H
LJMP EX00
ORG 0030H

MAIN:
    SETB P2.2
    MOV SP, #60H
    SETB IT0
    SETB EX0
    SETB EA
    MOV A, #0FEH
    MOV P0, #0FEH

LOOP:
    MOV P1, A
    ACALL DELAY
    RL A
    SJMP LOOP

DELAY:
    MOV R3, #0
    MOV R4, #0
DD:
    DJNZ R4, $
    DJNZ R3, DD
    RET
    ORG 0300H
EX00:
    PUSH PSW
    PUSH ACC
    SETB RS0
    CLR RS1
    MOV R0, #08H
AGA:
    MOV P1, #00H
    ACALL DELAY
    DJNZ R0, AGA
    POP ACC
    POP PSW
    RETI
    END
```

### 第八章 习题8

## 智慧树习题

### 第3章 指令系统 预习题

2.将A的内容与10比较，不相等则转移到BR2”处的语句可写为（）。

**S1:CJNE A, 10, BR2**
S2:CJNE A, #10, BR2
S3:DJNZ A, 10, BR2
S4:DJNZ A, #10, BR2

4.下列说法不正确的是（）
A. ADD是加法指令
B. ADDC是带进位的加法指令
**C. DA A指令不需要紧跟在加法指令之后**
D. INC A 指令的含义为A的内容加1

7.以字节为单位初始化程序存储器空间的伪指令为（）。
A. ORG
B. DW
**C. DB**
D. END

9.在找最大数的程序中，使用了指令（），由于该指令影响标志位（），判断标志位的值即可来比较两个数的大
小。（）
A. SUBB; AC
B. ADD; CY
**C. SUBB; CY**
D. ADDC; AC

> explain: The correct answer is C. SUBB; CY. The SUBB instruction stands for “Subtract with Borrow” and it subtracts the value of a specified operand and the value of the carry flag (CY) from the accumulator (A). The result is stored in the accumulator and the carry flag is set if there was a borrow. By checking the value of the carry flag after executing this instruction, you can determine which of the two numbers being compared is larger.

### 第3章 指令系统 复习题

仅部分罗列题目

> 单选题

1.【单选题】（9分）
对程序存储器ROM单元读写数据需用 （）。
A. MOV指令
B. MOVX指令
**C. MOVC指令**
D. PUSH指令

3 执行指令MOVX A, @DPTR时，产生的控制信号是?
A WI
**B RD**
C TXD
D RXD

答：MOVX A@DPTR指令是将外部数据存储器中地址为DPTR的单元中的数据传送到累加器A中。MOVX指令是访问外部数据存储器的指令，其源操作数的寻址方式为直接寻址，即直接使用DPTR寄存器中存放的地址作为操作数的地址。因此，执行指令MOVX A@DPTR时，产生的控制信号是将DPTR中存放的地址送到外部数据存储器进行访问，然后将读出的数据传送到累加器A中。

4 若(A)=89H，(30H)=93H,CY=1，执行指令ADDC A, 30H后，问A和CY中的内容是?

答：执行指令ADDC A, 30H后，A和CY中的内容分别为：A=BDH，CY=0。根据题意可知，累加器A中原来存放的值为89H，内部数据存储器地址为30H处存放的值为93H，进位标志CY为1。执行ADDC A, 30H指令时，先将累加器A和内部数据存储器地址为30H处的值相加（89H+30H+1=BAH），然后将结果BDH存入累加器A中，并根据结果设置进位标志CY（0）。

ADDC A, 30H指令将A寄存器中的值与内存地址为30H处的值相加，再加上CY标志位的值。在这种情况下，A寄存器中的值为89H，内存地址为30H处的值为93H，CY标志位的值为1。因此，执行ADDC A, 30H指令后，**A寄存器中的值将变为(89H + 93H + 1) = 11DH。由于结果超过了8位，所以CY标志位将被设置为1**。

5 MOVX A, @DPTR指令中源操作数的寻址方式为?  

答：MOVX A, @DPTR指令是将外部数据存储器中地址为DPTR所指向单元中的数据传送到累加器A中。MOVX指令是访问外部数据存储器的指令，其源操作数的寻址方式为间接寻址，即使用DPTR所指向单元中存放的地址作为操作数的地址。因此，在MOVX A, @DPTR指令中源操作数的寻址方式为**间接寻址**。

6 已知（A）=21H，(R0)=5AH， (5AH)=33H，执行指令MOVA，@R0后，问A中的内容为?

MOVA，@R0指令将内存地址为R0寄存器中值的内存单元的值传送到A寄存器中。在这种情况下，R0寄存器中的值为5AH，因此内存地址为5AH处的值为33H。所以，执行MOVA，@R0指令后，A寄存器中的值将变为**33H**。

7 采用循环程序设计结构将片内RAM从30H~60H单元中的数据搬迁到片外RAM的1000H~1030H单元中，选用的循环方式和循环次数为（）。
A. 计数式循环，循环次数为30H
**B. 计数式循环，循环次数为31H**
C. 条件循环，循环次数为30H
D. 条件循环，循环次数为31H

8 已知 (SP)=30H，(30H)=55H，执行指令POP ACC后，问累加器A和堆栈指针SP中的内容为（）
A. 30H,29H
B. 55H, 29H
C. 55H, 30H
**D. 55H, 2FH**

> 判断题

1. 若(A) =30H，则执行指令CJNE A,#30H,LOOP后，程序跳转到LOOP。**（错）**
2. 将累加器A中的低4位清零，高4位保持不变可以用指令ANLA, #0F0H实现。**（对）**
3. 指令中的Ri表示为当前被选定寄存器组工作寄存器，其中i=0~7。**（错）**。应该是Ri表示为当前被选定寄存器组工作寄存器，其中i=0~1。
4. 中断服务程序执行的最后一条指令必须是RETI。**（对）**

### 第5章 中断系统 预习题

6 中断请求得到响应，通常需要（）个周期。
A. 2个机器周期
B. 5个机器周期
C. 1个机器周期
D. 3~8个机器周期

在一个单一中断的系统里，AT89S51单片机对外部中断请求的响应时间总是在3~8个机器周期之间。所以，答案是D. 3~8个机器周期。

9 判断对错 51单片机的中断源要给CPU发送中断请求时，只要通过系统硬件，将对应的中断标志位置1就可以了。

### 第5章 中断系统 复习题

4.【单选题】 （11分）
若(IP)=00010001，则优先级最高的中断源是（）。
**A. 外部中断0**
B. 外部中断1
C. 串行口中断
D. 定时器T1

51单片机有5个中断源，分别是外部中断0、外部中断1、定时器T0、定时器T1和串行口中断。它们的优先级由IP寄存器的位来决定，其中最高位EA是总中断允许位，其余位分别对应各个中断源，1表示高优先级，0表示低优先级。因此，如果(IP)=00010001，那么只有外部中断0和串行口中断是高优先级，其他都是低优先级。在高优先级中，外部中断0的优先级最高，所以题目的答案是A。

5.【单选题】 （11分）
若单片机允许定时器T1的中断，并屏蔽其他中断源，可对IE寄存器进行如下设置 （）。
A. MOV IE, #02H
B. MOV IE, #82H
C. MOV IE, #84H
**D. MOV IE, #88H**

6.【多选题】 （15分）
51单片机中存放中断标志位的寄存器有（）。
**A TCON**
B IE
C IP
**D SCON**

8.【判断题】（10分）
TF0和TF1是外部中断0和外部中断1的中断标志位。**（错）**

9.【判断题】 （10分）
CPU对同一优先级别的中断请求按时间的先后顺序响应。**（错）**

### 第6章 定时计数器 预习题

1 定时器模式下，计数脉冲是来自时钟频率fosc经过（）分频后的内部脉冲信号。
**A. 12**
B. 6
C. 24
D. 18

2 51单片机，定时器T0工作在方式1时，是（）位定时计数器。
A. 13
**B. 16**
C. 8
D. 12

3 51单片机有（）个（）位的定时计数器。（）
A. 2, 8
**B. 2, 16**
C. 1, 8
D. 1, 16

4 打开定时中断0的指令为（）
**A. SETB ET0**
B. SETB ET1
C. CLR ET0
D. CLR ET1

### 第6章 定时计数器 复习题

4.【单选题】（10分）
定时器T1的运行控制位是（）。
A. TR0
**B. TR1**
C. TF0
D. TF1

6.【单选题】（10分）
若单片机的晶振频率为6MHz，那么T1工作在方式1时可达到的最长的定时时间是（）。
**A. 131.072ms**
B. 16.348ms
C. 256us
D. 65.536ms

### 第7章 串口 预习题

若单片机串行通信的波特率为4800，则表示每秒传输4800位

当51单片机串行通信的工作方式选择为8位的UART时，则工作方式1

判断

若单片机的串行口工作在多机通信方式下时，一般情况下TB8=0表示传输的是地址。**（错）**

51单片机的串行口进行接收时，要将允许串行接收控制位REN置1。**（对）**

### 第7章 串口 复习题

1.MCS-51单片机的时钟频率为11.0592MHZ，选用定时器T1工作在方式2为波特率发生器，要求产生2400bit/s的波特率，则T1的计数初值为?

T1的计数初值为 **F4H**

4.【判断题】 （20分）
若51单片机的串行口工作在方式0时，TXD和RXD引脚分别用来发送和接收数据。**（错）**

5.【判断题】 （20分）
若PCON寄存器中的SMOD为1时，可将串行口的波特率加倍。**（对）**

### 第8章 系统扩展 预习题

3.【单选题】（15分）
51单片机与8255连接时，可以使用（）芯片做地址锁存器。
A. 8155
**B. 74LS373**
C. 74LS322
D. 74LS285

4.【单选题】（15分）
单片机在外部扩展时，常用作低8位地址线的IO口为 （）。
**A. P0**
B. P1
C. P2
D. P3

5.【单选题】（15分）
扩展外部ROM的控制总线有()
**A. /PSEN**
B. /WR
C. /RD
D. /RXD

6.【单选题】 （15分）
单片机在外部扩展时，常用作高8位地址线的IO口为 （）。
A. P0
B. P1
**C. P2**
D. P3

7.【单选题】 （15分）
51单片机访问8255，可以使用（）指令。
A. MOV
B. MOVC
**C. MOVX**
D. SETB

### 第8章 系统扩展 复习题

请回答以下问题，并简单解释。这些并非考试题目。

1. 【单选题】 （10分）
数据存储器芯片6264有多少条地址线，包含多少个字节存储单元（）。
A. 16, 4K
**B. 13, 8K**
C. 16, 64K
D. 8, 256

2. 【单选题】（10分）
MCS-51系列单片机的数据总线和地址总线的宽度分别是（）。
A.16位，16位
B.16位，8位
**C.8位，16位**
D.8位，8位

3. 【单选题】（10分）
片选/CS接P2.7，80C51单片机扩展1片8255芯片则控制寄存器的地址为 （）。
A. 7000H~7FFFH
**B. 7FFFH**
C. 0000H~7FFFH
D. 8001 H

4. 【单选题】（10分）
51单片机外扩存储器的低8位地址线是直接连接到哪个端口上的？（）。
**A. 地址锁存器的输出端口**
В. Р0
C. P2
D. P3

5. 【单选题】（10分）
8255芯片可以为51单片机扩展几个几位的并行口？（）。
A. 2.5, 8
B. 3, 16
C. 4, 8
**D. 3, 8**

6. 【单选题】（10分）
片选接P2.6，80C51单片机扩展1片6232，则其地址范围为 （）。
A. E000H~EFFFH
B. 7000H~7FFFH
**C. B000H~BFFFH**
D. D000H~DFFFH

7. 【多选题】 （10分）
扩展外部RAM的控制总线中有（）。
A /PSEN
**B /WR**
**C /RD**
D /RXD

8. 【多选题】（10分）
80C51外部扩展8255芯片时，需要用到的控制信号有（）。
A /PSEN
**B WR**
C /RXD
**D /RD**

9. 【判断题】 （10分）
一个地址可以对应多个外部设备。**（错）**

10. 【判断题】(10分)
一个外部设备可以拥有多个地址。**（对）**

## 过程化考核

《单片机原理及应用》222302单片机原理及应用第2次过程化考核（第3章）

from bing AI

读下列程序，选择正确答案 （本段程序为6/7/8/9/10题使用程序）。
(A) =10H, (20H) =30H, (30H) =20H, (R0) =50H, (R7) =60H
执行下列程序段后：
MOV A, #20H MOV R0, 20H MOV 40H, @R0 MOV R7, 40H
寄存器A的内容=
存储单元20H的内容=
存储器R0的内容=
存储单元40H的内容=
存储器R7的内容=
• A. 60H
• B. 10H
• C 50H
D. 20H

读下列程序，选择正确答案（本段程序为11/12/13/14/15题使用程序）。
行1: MOV SP, #4AH
行2：MOV A,#20H
行3: MOV B, #30H
行4: PUSH ACC
行5: PUSH B
行6: POP ACC
行7: POP B

执行该段程序的第6行后，SP指针的内容为 （）。
第11题中的程序执行完毕后，寄存器B的内容为
第11题中的程序执行完毕后，寄存器A的内容为
第11题中的程序执行完毕后，SP指针的内容为

### 56

4.15 0
一、单选题（50分）
1.【单选题】（5分）
定时器TO的中断入口地址是（）。
• A. 0003H
• B. 000BH
• C. 0013H
• D. 001BH
上一题
下一题
标记此题

10.【单选题】 （5分）
用以下哪条指令可以将定时器/计数器TO的工作方式设置在定时器模式（）。
• A. MOV TOMD, #00H
• **B. CLR C/T**
• C. SETB C/T
• D. MOV TOMD, #04H

12.【多选题】（5分）
51单片机的CPU响应中断后，需要软件清除的中断标志位是()。
A RI
**B T0**
C TI
**D TF0**

13.【多选题】 （5分）
定时器1的工作方式有（）。
**A 方式0**
**B 方式1**
**C 方式2**
D 方式3

14.【多选题】 （5分）
定时器/计数器T1工作在方式1时，寄存器____和____用于存放计数值（）。
• **A TH0**
• B TH1
• **C TL0**
• D TL1

## 真题

### 2007-2008的考试

9A - 23 = 77H
77 + 61 = D8H

编写一程序将片外数据存储器中7000H~70FFH单元全部清零

ORG 000H
AJMP MAIN
MAIN:
    MOV DPTR, 7000H
    MOV A, #00H
    MOV R0, #0FFH

在片内RAM的50H到5FH中存放着16个字节的无符号数，请将他们用冒泡法从小到大排序，并放回片内RAM的50H到5FH单元。
          MOV R3,  #0FH  ；大循环计数，初值15。
   RAN2:  MOV A,   R3
          MOV R4,  A     ；小循环计数，初值15。

### 2019-2020 学年第 2 学期

1 B
2 D
3 C
4 ~~D~~ A
5 ~~B?~~ C
6 B
7 B
8 D
9 ~~A~~ C
10 ~~A？~~ D

1
(1) 8 (2) 128 (3) 4k (4) ~~???~~ 64K (5) ~~2~~ 1 (6) 全 (7) ~~下拉电阻~~ 上拉电阻 (8) 清零

2
(1) MOV (2) MOVX (3) MOVC

3
(1) ~~?~~ 4 (2) ~~?~~ 3 (3) 定时器 (4) 计数器

4 (6) 2^{12} = 4k

5
(17) 共阳极
(18) 共阴极

6
(19) ~~???~~ 0FAH

x = ？？？

1
(01) 寄存器寻址
(02) ~~寄存器寻址~~ 直接寻址
(03) 间接寄存器寻址
(04) ~~地址寻址~~ 立即数寻址
(05) 直接寻址

(06) 3BH
(07) 50H
(08) ~~00H~~ 50H
(09) 3BH
(10) 3BH

2

2、已知（DPTR）= 2007H，（SP）= 07H，（5FH）= 20H，（60H）= 06H， （61H）= 16H，（62H）= 2CH，（A）= 0DAH，（R1）= 5EH，（R0）= 5FH， 请写出程序执行后相应指令的运行结果。

```asm
MOV DPTR, #3518H ;（11）（DPL）=
MOV SP， #5FH ;（12）（5FH）=
PUSH DPH ;（13）（60H）= PUSH
DPL ;（14）（61H）=
NOP ;（15）（SP） =
MOV R1, SP
MOV A, @R1
SWAP A ;（16）（ACC） =
ADD A，@R0
```

61H - 18H

(11) 18H
(12) 20H
(13) 35H
(14) ~~18H~~ 81H?
(15) 61H
(16) 61H

(17) 0
(18) 0
(19) 0
(20) 0

将片外 RAM 中 1030H-1060H 单元的内容传送到内部 RAM 20H 开始的存储单元中。（10 分）

```asm
ORG 000H

MOV R0, #30
MOV R1, #20H

LOOP:

```

用定时器中断方式，编程实现从 P2.0 引脚输出一个周期为 2s 的连续方波。要 求先确定定时时间并给出定时初值的计算步骤， 然后编写程序。 （晶振频率为 6MHz）

计算: 6MHz

编程

```asm
ORG 000H
AJMP MAIN
ORG 000BH
AJMP TIME
ORG 0030H
MAIN:
    MOV SP, #60H
    MOV TMOD, #01H
    MOV TH0, #03CH
    MOV TL0, #0B0H
    SETB ET0
    SETB EA
    SETB TR0
    SJMP, $
TIME:
    MOV TH0, #03CH
    MOV TL0, #0B0H
    INC R0
    DJNZ R0, EXIT
    MOV R0, #0AH
    CPL P1.7
EXIT: RETI
END
```

接口

8255 与 MCS-51 以及指示灯（输出）、开关（输入）的连接如图所示 8255 与 MSC-51
其中 PA 口接指示灯，PB 口接一组开关，8255 工作在工作方式 0（基本 I/O 方式），通 过 PB 口读入开关状态，同时将开关状态输出至 PA 口，用以控制指示灯。

### 2021-2022 学年第 2 学期

1 C
2 C
3 A ?
4 ~~A~~ B
5 D
6 C ?
7 D
8 ~~D~~ B
9 ~~A~~ C
10 D

(1) 8
(2) 128
(3) 4k
(4) 64k
(5) 5
(6) 2

(7) 07H
(8) 0FFH

(9) 单工
(10) 双工
(11) 全双工

(12) 4
(13) 3
(14) 定时器
(15) 计数器

(16) 2^{13} = 8k

(17) 共阳极
(18) 共阴极

(19) ???

程序分析题

2
(SP) = 79H

(11) 78H -> 11H (POP -1)
(12) DPH 11H ?
(13) 变址寻址
(14) 位寻址
(15) ...

1．（1）将 R0 的内容传送到 R3 中；（3 分）
（2）将内部 RAM 的 20H 单元中的内容复制到外部 RAM 的 1000H 单元中。（5 分）

(1) MOV A, R0
MOV R3, A

(2) MOV A, 20H
MOV DPTR, 1000H
MOVX @DPTR, A

2．将内部 RAM 中 30H~3FH 单元的内容传送到 60H~6FH 单元中。（10 分）

```asm
ORG 000H
AJMP MAIN
ORG 0030H
MAIN:
    MOV R0, #30H
    MOV R1, #60H
    MOV R2, #16H
LOOP:
    MOV A, @R0
    MOV @R1, A
    INC R0
    INC R1
    DJNZ R2, LOOP
    RET
END
```

3．用定时器中断方式，编程实现从 P1.7 引脚输出一个周期为 3s 的连续方波。要求先确定定时 时间并给出定时初值的计算步骤，然后编写程序。（晶振频率为 12MHz）（10 分）

...

8255 与 MCS-51 以及指示灯（输出）、开关（输入）的连接如图所示 8255 与 MSC-51
其中 PA 口接指示灯，PB 口接一组开关，8255 工作在工作方式 0（基本 I/O 方式），通 过 PB 口读入开关状态，同时将开关状态输出至 PA 口，用以控制指示灯。

(1)
各部分地址(P0,P2.7):
1111 1110 1111 11[00] -> PA
1111 1110 1111 11[01] -> PB
1111 1110 1111 11[10] -> PC
1111 1110 1111 11[11] -> 控制
控制字: 1000 0010 -> 82H

(2) 极霸编程

```asm
MOV DPTR, #0FEFF
MOV A, #82H
MOVX @DPTR, A
MOV DPTR, #0FEFDH
MOVX A, @DPTR
MOV DPTR, #0FEFCH
MOVX @DPTR, A
```
